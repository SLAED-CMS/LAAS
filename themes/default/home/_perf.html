<div class="card">
  <div class="card-body">
    <h2 class="h5 mb-3 home-card-title">Performance (debug)</h2>
    <div class="row g-3">
      <div class="col-6 col-lg-3">
        <div class="text-muted small">Queries</div>
        {% if perf.db_count_crit %}
        <span class="badge text-bg-danger">{% perf.db_count %}</span>
        {% else %}
          {% if perf.db_count_warn %}
        <span class="badge text-bg-warning">{% perf.db_count %}</span>
          {% else %}
        <span class="badge text-bg-success">{% perf.db_count %}</span>
          {% endif %}
        {% endif %}
      </div>
      <div class="col-12 col-lg-3">
        <div class="text-muted small">DB time (ms)</div>
        <div class="progress home-progress">
          <div class="progress-bar bg-primary" data-progress-pct="{% perf.db_time_pct %}"></div>
        </div>
        <div class="small mt-1">{% perf.db_total_ms %} ms</div>
      </div>
      <div class="col-12 col-lg-3">
        <div class="text-muted small">Render time (ms)</div>
        <div class="progress home-progress">
          <div class="progress-bar bg-success" data-progress-pct="{% perf.duration_pct %}"></div>
        </div>
        <div class="small mt-1">{% perf.duration_ms %} ms</div>
      </div>
      <div class="col-6 col-lg-3">
        <div class="text-muted small">Memory peak (MB)</div>
        {% if perf.memory_crit %}
        <span class="badge text-bg-danger">{% perf.memory_mb %}</span>
        {% else %}
          {% if perf.memory_warn %}
        <span class="badge text-bg-warning">{% perf.memory_mb %}</span>
          {% else %}
        <span class="badge text-bg-success">{% perf.memory_mb %}</span>
          {% endif %}
        {% endif %}
      </div>
    </div>
  </div>
</div>
