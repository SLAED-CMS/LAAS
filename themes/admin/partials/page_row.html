<tr id="page-{% page.id %}" class="{% if page.flash %}laas-flash{% endif %}">
  <td>{% page.id %}</td>
  <td>
    {% foreach page.title_segments as seg %}
      {% if seg.mark %}<mark>{% seg.text %}</mark>{% else %}{% seg.text %}{% endif %}
    {% endforeach %}
  </td>
  <td>
    {% foreach page.slug_segments as seg %}
      {% if seg.mark %}<mark>{% seg.text %}</mark>{% else %}{% seg.text %}{% endif %}
    {% endforeach %}
  </td>
  <td>
    <form method="post"
          action="/admin/pages/status"
          hx-post="/admin/pages/status"
          hx-target="#page-{% page.id %}"
          hx-swap="outerHTML"
          hx-indicator="#loading"
          class="d-inline">
      <input type="hidden" name="_token" value="{% csrf_token %}">
      <input type="hidden" name="id" value="{% page.id %}">
      <button class="btn btn-outline-secondary btn-sm" type="submit" {% if page.can_edit %}{% else %}disabled{% endif %}>
        {% if page.ui.status == 'active' %}
        <span class="badge text-bg-success">{% t 'admin.pages.status.published' %}</span>
        {% else %}
          {% if page.is_published %}
          <span class="badge text-bg-success">{% t 'admin.pages.status.published' %}</span>
          {% else %}
          <span class="badge text-bg-secondary">{% t 'admin.pages.status.draft' %}</span>
          {% endif %}
        {% endif %}
      </button>
    </form>
  </td>
  <td>{% page.updated_at_display %}</td>
  <td>
    <div class="btn-group btn-group-sm" role="group">
      <a class="btn btn-outline-secondary" href="/admin/pages/{% page.id %}/edit">{% t 'admin.pages.edit' %}</a>
      <form method="post"
            class="d-inline"
            action="/admin/pages/delete"
            hx-post="/admin/pages/delete"
            hx-target="#page-{% page.id %}"
            hx-swap="outerHTML"
            hx-indicator="#loading">
        <input type="hidden" name="_token" value="{% csrf_token %}">
        <input type="hidden" name="id" value="{% page.id %}">
        <button class="btn btn-outline-danger" type="submit">{% t 'admin.pages.delete' %}</button>
      </form>
    </div>
  </td>
</tr>
