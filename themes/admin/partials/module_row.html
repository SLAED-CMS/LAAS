<tr id="module-{% module.name %}">
  <td>{% module.name %}</td>
  <td>{% module.version %}</td>
  <td>
    {% if module.enabled %}
    <span class="badge bg-success">{% t 'admin.modules.on' %}</span>
    {% else %}
    <span class="badge bg-secondary">{% t 'admin.modules.off' %}</span>
    {% endif %}
  </td>
  <td>
    {% if module.protected %}
    <span class="badge bg-light text-dark">{% t 'admin.modules.protected' %}</span>
    {% else %}
    <form method="post"
          action="/admin/modules/toggle"
          hx-post="/admin/modules/toggle"
          hx-target="#module-{% module.name %}"
          hx-swap="outerHTML"
          hx-vals='{"name":"{% module.name %}"}'
          hx-indicator="#spinner-{% module.name %}"
          hx-disabled-elt="find button">
      <input type="hidden" name="_token" value="{% csrf_token %}">
      {% if module.enabled %}
      <button class="btn btn-outline-danger btn-sm" type="submit">{% t 'admin.modules.disable' %}</button>
      {% else %}
      <button class="btn btn-outline-success btn-sm" type="submit">{% t 'admin.modules.enable' %}</button>
      {% endif %}
      <span id="spinner-{% module.name %}" class="htmx-indicator spinner-border spinner-border-sm ms-2" role="status" aria-hidden="true"></span>
    </form>
    {% endif %}
  </td>
</tr>
