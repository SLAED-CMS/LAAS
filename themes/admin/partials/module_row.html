<tr id="module-{% module.name %}">
  <td>{% module.name %}</td>
  <td>{% module.version %}</td>
  <td>
    {% if module.type_is_internal %}
    <span class="badge bg-secondary">{% module.type_label %}</span>
    {% else %}
      {% if module.type_is_admin %}
    <span class="badge bg-dark">{% module.type_label %}</span>
      {% else %}
        {% if module.type_is_api %}
    <span class="badge bg-info text-dark">{% module.type_label %}</span>
        {% else %}
    <span class="badge bg-primary">{% module.type_label %}</span>
        {% endif %}
      {% endif %}
    {% endif %}
  </td>
  <td>
    {% if module.enabled %}
    <span class="badge text-bg-success">{% t 'admin.modules.on' %}</span>
    {% else %}
    <span class="badge text-bg-secondary">{% t 'admin.modules.off' %}</span>
    {% endif %}
  </td>
  <td>
    {% if module.protected %}
    <span class="badge text-bg-secondary">{% t 'admin.modules.protected' %}</span>
    {% else %}
    <form method="post"
          action="/admin/modules/toggle"
          hx-post="/admin/modules/toggle"
          hx-target="#module-{% module.name %}"
          hx-swap="outerHTML"
          hx-vals='{"name":"{% module.name %}"}'
          hx-indicator="#loading"
          hx-disabled-elt="find button">
      <input type="hidden" name="_token" value="{% csrf_token %}">
      <div class="btn-group btn-group-sm" role="group">
        {% if module.enabled %}
        <button class="btn btn-outline-danger" type="submit">{% t 'admin.modules.disable' %}</button>
        {% else %}
        <button class="btn btn-outline-success" type="submit">{% t 'admin.modules.enable' %}</button>
        {% endif %}
      </div>
    </form>
    {% endif %}
  </td>
</tr>
