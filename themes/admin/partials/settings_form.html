<div id="page-messages" hx-swap-oob="innerHTML">
  {% include "partials/messages.html" %}
</div>
<form method="post" action="/admin/settings"
      hx-post="/admin/settings"
      hx-target="#settings-form"
      hx-swap="innerHTML"
      hx-indicator="#loading">
  <input type="hidden" name="_token" value="{% csrf_token %}">
  <div class="mb-3">
    <label class="form-label" for="site-name">
      {% t 'admin.settings.site_name' %}
      {% if source.site_name %}
      <span class="badge bg-secondary-subtle text-secondary ms-2">{% source.site_name %}</span>
      {% endif %}
    </label>
    <input class="form-control" id="site-name" name="site_name" value="{% settings.site_name %}">
  </div>
  <div class="mb-3">
    <label class="form-label" for="default-locale">
      {% t 'admin.settings.default_locale' %}
      {% if source.default_locale %}
      <span class="badge bg-secondary-subtle text-secondary ms-2">{% source.default_locale %}</span>
      {% endif %}
    </label>
    <select class="form-select" id="default-locale" name="default_locale">
      {% foreach localesOptions as opt %}
      <option value="{% opt.value %}" {% raw opt.selected_attr %}>{% opt.label %}</option>
      {% endforeach %}
    </select>
  </div>
  <div class="mb-3">
    <label class="form-label" for="theme">
      {% t 'admin.settings.theme' %}
      {% if source.theme %}
      <span class="badge bg-secondary-subtle text-secondary ms-2">{% source.theme %}</span>
      {% endif %}
    </label>
    <select class="form-select" id="theme" name="theme">
      {% foreach themesOptions as opt %}
      <option value="{% opt.value %}" {% raw opt.selected_attr %}>{% opt.label %}</option>
      {% endforeach %}
    </select>
  </div>
  <div class="mb-3">
    <label class="form-label" for="api-token-issue-mode">
      {% t 'admin.settings.api_token_issue_mode' %}
      {% if source.api_token_issue_mode %}
      <span class="badge bg-secondary-subtle text-secondary ms-2">{% source.api_token_issue_mode %}</span>
      {% endif %}
    </label>
    <select class="form-select" id="api-token-issue-mode" name="api_token_issue_mode">
      {% foreach apiTokenIssueModeOptions as opt %}
      <option value="{% opt.value %}" {% raw opt.selected_attr %}>{% opt.label %}</option>
      {% endforeach %}
    </select>
  </div>
  <button class="btn btn-primary" type="submit">{% t 'admin.settings.save' %}</button>
</form>
